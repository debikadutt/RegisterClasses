(this["webpackJsonphello-react"]=this["webpackJsonphello-react"]||[]).push([[0],{14:function(e,a,t){},15:function(e,a,t){},17:function(e,a,t){"use strict";t.r(a);var c=t(0),s=t(1),n=t.n(s),l=t(8),i=t.n(l),r=(t(14),t(15),t(3)),d=t(4),o=t(2),b=function(e,a){var t=Object(s.useState)({}),c=Object(r.a)(t,2),n=c[0],l=c[1],i=Object(s.useState)({}),b=Object(r.a)(i,2),h=b[0],u=b[1],j=Object(s.useState)(!1),m=Object(r.a)(j,2),O=m[0],f=m[1],x=Object(s.useState)({}),p=Object(r.a)(x,2),v=p[0],g=p[1],y=Object(s.useState)(!0),N=Object(r.a)(y,2),k=N[0],D=N[1];Object(s.useEffect)((function(){0===Object.keys(h).length&&O&&(D(!0),e())}),[h]),Object(s.useEffect)((function(){v&&Object.keys(v).forEach((function(e){if(!1===v[e]){var a=n;delete a[e],l(a)}}))}),[v]);return{handleChange:function(e){l((function(a){return Object(o.a)(Object(o.a)({},a),{},Object(d.a)({},e.target.name,e.target.value))}))},handleSubmit:function(e){e&&e.preventDefault(),u(a(n,v)),f(!0)},handleCheckboxChange:function(e){g(Object(o.a)(Object(o.a)({},v),{},Object(d.a)({},e.target.name,e.target.checked)))},clearForm:function(){g({}),l({}),D(!1)},isFinalDisplayVisible:k,values:n,errors:h,checkedItems:v}},h=t(6),u=[{name:"sports",key:"checkBox1",label:"Sports",schedule:[{startDate:"2020/07/23",endDate:"2020/08/23",label:"July 23 - August 23"},{startDate:"2020/08/26",endDate:"2020/09/26",label:"August 26 - September 26"}]},{name:"music",key:"checkBox2",label:"Music",schedule:[{startDate:"2020/06/09",endDate:"2020/07/09",label:"June 9 - July 9"},{startDate:"2020/08/09",endDate:"2020/09/09",label:"August 9 - September 9"}]},{name:"art",key:"checkBox3",label:"Art",schedule:[{startDate:"2020/05/10",endDate:"2020/06/10",label:"May 10 - June 10"},{startDate:"2020/07/11",endDate:"2020/08/11",label:"July 11 - August 11"}]},{name:"literature",key:"checkBox4",label:"Literature",schedule:[{startDate:"2020/07/11",endDate:"2020/10/11",label:"July 11 - October 11"}]}];function j(e,a){var t={};t=Object(o.a)(Object(o.a)({},t),m(e)),t=Object(o.a)(Object(o.a)({},t),f(a));var c=x(a,e);return t=Object(o.a)(Object(o.a)({},t),c),O(Object.keys(a),e)&&(t.dates="Class schedules overlap, please select different schedule"),t}var m=function(e){var a={};return e.email?/\S+@\S+\.\S+/.test(e.email)||(a.email="Email address is invalid"):a.email="Email address is required",e.name?e.name.length<3&&(a.name="Name must be 3 or more characters"):a.name="Name is required",e.birthday||(a.birthday="Birthday is required"),a},O=function(e,a){var t=[];e.forEach((function(e){t.push(a[e])}));var c=u.map((function(e){return e.schedule})),s=[];return t.forEach((function(e){c.forEach((function(a){a.forEach((function(a){e===a.label&&s.push([h(new Date(a.startDate)).format("YYYY-MM-DD"),h(new Date(a.endDate)).format("YYYY-MM-DD")])}))}))})),p(s)},f=function(e){var a={},t=Object.keys(e),c=Object.keys(e).every((function(a){return!e[a]}));return t.length&&!c||(a.study="You must select at least one area of study"),a},x=function(e,a){var t=Object.keys(e),c={};return t.forEach((function(t){e[t]&&!a[t]&&(c["".concat(t)]="Please select one class schedule")})),c},p=function(e){if(1===e.length)return!1;e.sort((function(e,a){return e[0].localeCompare(a[0])}));for(var a=0;a<e.length-1;a++){if(e[a][1]>e[a+1][0])return!0}return!1},v=(t(7),function(e){var a=e.handleChange,t=e.handleCheckboxChange,s=e.checkedItems,n=e.errors;return Object(c.jsx)("div",{children:Object(c.jsxs)("div",{className:"field",children:[Object(c.jsx)("label",{className:"has-text-weight-semibold",children:"Area of study"}),Object(c.jsxs)("div",{className:"control pl-5",children:[u.map((function(e){return Object(c.jsxs)("div",{className:"pb-5",children:[Object(c.jsxs)("label",{className:"checkbox",children:[Object(c.jsx)("input",{type:"checkbox",checked:s[e.name]||!1,name:e.name,onChange:t}),Object(c.jsx)("i",{className:"px-2",children:e.label})]}),Object(c.jsx)("div",{className:"pl-5",children:e.schedule.map((function(t){return Object(c.jsx)("span",{children:Object(c.jsxs)("label",{className:"radio",children:[Object(c.jsx)("input",{type:"radio",id:e.name,name:e.name,value:t.label||"",disabled:!s[e.name],onChange:a,checked:(n=e.name,void(void 0!==s[n]&&!1!==s[n]||document.querySelectorAll("[id=".concat(n,"]")).forEach((function(e){e.checked=!1}))))}),Object(c.jsx)("span",{className:"px-2",children:t.label})]})},t.label);var n}))}),n["".concat(e.name)]&&Object(c.jsx)("p",{className:"help is-danger",children:n["".concat(e.name)]})]},e.key)})),Object(c.jsx)("div",{className:"pb-2",children:n.study&&Object(c.jsx)("p",{className:"help is-danger",children:n.study})}),Object(c.jsx)("div",{className:"pb-2",children:n.dates&&Object(c.jsx)("p",{className:"help is-danger",children:n.dates})})]})]})})}),g=function(e){var a=e.values,t=e.checkedItems,s=e.clearForm,n=e.isFinalDisplayVisible,l=Object.keys(t),i=function(){var e={};return l.forEach((function(t){a[t]&&(e[t]=a[t])})),e},r={name:"".concat(a.name),email:"".concat(a.email),birthday:"".concat(a.birthday)},b=Object(o.a)(Object(o.a)({},r),i());return Object(c.jsx)(c.Fragment,{children:n&&Object(c.jsx)("div",{className:"section is-fullheight",children:Object(c.jsx)("div",{className:"container",children:Object(c.jsx)("div",{className:"column is-8 is-offset-2",children:Object(c.jsxs)("div",{className:"box has-background-primary-light",children:[Object.keys(b).map((function(e){return Object(c.jsx)("span",{children:Object(c.jsxs)("div",{className:"py-2",children:[Object(c.jsx)("span",{className:"has-text-weight-semibold is-capitalized",children:e})," ",b[e]]})},e)})),Object(c.jsx)("button",{onClick:function(){s(),function(){var e,a=[],t=i();Object.keys(t).forEach((function(e){a.push(Object(d.a)({},e,t[e]))})),e=Object(o.a)(Object(o.a)({},r),{},{schedule:[].concat(a)}),console.log("logOutput",e)}()},className:"button is-block is-info",children:"Submit"})]})})})})})},y=function(){var e=b((function(){f(!0)}),j),a=e.values,t=e.errors,n=e.checkedItems,l=e.handleChange,i=e.handleSubmit,d=e.handleCheckboxChange,o=e.clearForm,h=e.isFinalDisplayVisible,u=Object(s.useState)(!1),m=Object(r.a)(u,2),O=m[0],f=m[1];return Object(c.jsxs)("div",{className:"section is-fullheight",children:[Object(c.jsx)("div",{className:"container",children:Object(c.jsxs)("div",{className:"column is-8 is-offset-2",children:[Object(c.jsx)("div",{className:"has-text-centered is-size-2",children:"Class Registration Form"}),Object(c.jsx)("div",{className:"box has-background-link-light",children:Object(c.jsxs)("form",{onSubmit:i,noValidate:!0,children:[Object(c.jsxs)("div",{className:"field",children:[Object(c.jsx)("label",{className:"has-text-weight-semibold",children:"Name"}),Object(c.jsxs)("div",{className:"control has-icons-left",children:[Object(c.jsx)("input",{className:"input ".concat(t.name&&"is-danger"),type:"text",placeholder:"Name",value:a.name||"",name:"name",onChange:l,required:!0}),Object(c.jsx)("span",{className:"icon is-small is-left",children:Object(c.jsx)("i",{className:"fa fa-user"})}),t.name&&Object(c.jsx)("p",{className:"help is-danger",children:t.name})]})]}),Object(c.jsxs)("div",{className:"field",children:[Object(c.jsx)("label",{className:"has-text-weight-semibold",children:"Email"}),Object(c.jsxs)("div",{className:"control has-icons-left",children:[Object(c.jsx)("input",{className:"input ".concat(t.email&&"is-danger"),type:"email",placeholder:"Email",value:a.email||"",name:"email",onChange:l,required:!0}),Object(c.jsx)("span",{className:"icon is-small is-left",children:Object(c.jsx)("i",{className:"fa fa-envelope"})}),t.email&&Object(c.jsx)("p",{className:"help is-danger",children:t.email})]})]}),Object(c.jsxs)("div",{className:"field",children:[Object(c.jsx)("label",{className:"has-text-weight-semibold",children:"Birthday"}),Object(c.jsx)("div",{className:"control",children:Object(c.jsx)("input",{max:(new Date).toISOString().split("T")[0],className:"column is-5 px-0 py-0",type:"date",name:"birthday",placeholder:"Birthday",value:a.birthday||"",onChange:l})}),t.birthday&&Object(c.jsx)("p",{className:"help is-danger",children:t.birthday})]}),Object(c.jsx)(v,{handleChange:l,handleCheckboxChange:d,checkedItems:n,errors:t}),Object(c.jsx)("button",{type:"submit",className:"button is-block is-info",children:"Confirm"})]})})]})}),0===Object.keys(t).length&&O&&Object(c.jsx)(g,{values:a,checkedItems:n,clearForm:o,isFinalDisplayVisible:h})]})},N=function(){return Object(c.jsx)(y,{})},k=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,18)).then((function(a){var t=a.getCLS,c=a.getFID,s=a.getFCP,n=a.getLCP,l=a.getTTFB;t(e),c(e),s(e),n(e),l(e)}))};i.a.render(Object(c.jsx)(n.a.StrictMode,{children:Object(c.jsx)(N,{})}),document.getElementById("root")),k()}},[[17,1,2]]]);
//# sourceMappingURL=main.8ce38130.chunk.js.map