(this["webpackJsonphello-react"]=this["webpackJsonphello-react"]||[]).push([[0],{14:function(e,a,t){},15:function(e,a,t){},17:function(e,a,t){"use strict";t.r(a);var s=t(0),c=t(1),n=t.n(c),l=t(8),i=t.n(l),r=(t(14),t(15),t(3)),d=t(4),h=t(2),b=function(e,a){var t=Object(c.useState)({}),s=Object(r.a)(t,2),n=s[0],l=s[1],i=Object(c.useState)({}),b=Object(r.a)(i,2),o=b[0],j=b[1],m=Object(c.useState)(!1),u=Object(r.a)(m,2),O=u[0],x=u[1],f=Object(c.useState)({}),p=Object(r.a)(f,2),g=p[0],v=p[1],N=Object(c.useState)(!0),y=Object(r.a)(N,2),k=y[0],D=y[1];Object(c.useEffect)((function(){console.log(o),0===Object.keys(o).length&&O&&(D(!0),e())}),[o]),Object(c.useEffect)((function(){g&&Object.keys(g).forEach((function(e){if(!1===g[e]){var a=n;delete a[e],l(a)}}))}),[g]);return{handleChange:function(e){l((function(a){return Object(h.a)(Object(h.a)({},a),{},Object(d.a)({},e.target.name,e.target.value))}))},handleSubmit:function(e){e&&e.preventDefault(),j(a(n,g)),x(!0)},handleCheckboxChange:function(e){v(Object(h.a)(Object(h.a)({},g),{},Object(d.a)({},e.target.name,e.target.checked)))},clearForm:function(){v({}),l({}),D(!1)},isFinalDisplayVisible:k,values:n,errors:o,checkedItems:g}},o=t(6),j=[{name:"sports",key:"checkBox1",label:"Sports",schedule:[{startDate:new Date("2020/07/23"),endDate:new Date("2020/08/23"),label:"July 23 - August 23"},{startDate:new Date("2020/08/26"),endDate:new Date("2020/09/26"),label:"August 26 - September 26"}]},{name:"music",key:"checkBox2",label:"Music",schedule:[{startDate:new Date("2020/06/09"),endDate:new Date("2020/07/09"),label:"June 9 - July 9"},{startDate:new Date("2020/08/09"),endDate:new Date("2020/09/09"),label:"August 9 - September 9"}]},{name:"art",key:"checkBox3",label:"Art",schedule:[{startDate:new Date("2020/05/10"),endDate:new Date("2020/06/10"),label:"May 10 - June 10"},{startDate:new Date("2020/07/11"),endDate:new Date("2020/08/11"),label:"July 11 - August 11"}]},{name:"literature",key:"checkBox4",label:"Literature",schedule:[{startDate:new Date("2020/07/11"),endDate:new Date("2020/10/11"),label:"July 11 - October 11"}]}];function m(e,a){var t={};t=Object(h.a)(Object(h.a)({},t),u(e)),t=Object(h.a)(Object(h.a)({},t),x(a));var s=f(a,e);return t=Object(h.a)(Object(h.a)({},t),s),O(Object.keys(a),e)&&(t.dates="Class schedules overlap, please select different schedule"),t}var u=function(e){var a={};return e.email?/\S+@\S+\.\S+/.test(e.email)||(a.email="Email address is invalid"):a.email="Email address is required",e.name?e.name.length<3&&(a.name="Name must be 3 or more characters"):a.name="Name is required",e.birthday||(a.birthday="Birthday is required"),a},O=function(e,a){var t=[];e.forEach((function(e){t.push(a[e])}));var s=j.map((function(e){return e.schedule})),c=[];return t.forEach((function(e){s.forEach((function(a){a.forEach((function(a){e===a.label&&c.push([o(a.startDate).format("YYYY-MM-DD"),o(a.endDate).format("YYYY-MM-DD")])}))}))})),p(c)},x=function(e){var a={},t=Object.keys(e),s=Object.keys(e).every((function(a){return!e[a]}));return t.length&&!s||(a.study="You must select at least one area of study"),a},f=function(e,a){var t=Object.keys(e),s={};return t.forEach((function(t){e[t]&&!a[t]&&(s["".concat(t)]="Please select one class schedule")})),s},p=function(e){if(1===e.length)return!1;e.sort((function(e,a){return e[0].localeCompare(a[0])}));for(var a=0;a<e.length-1;a++){if(e[a][1]>e[a+1][0])return!0}return!1},g=(t(7),function(e){var a=e.handleChange,t=e.handleCheckboxChange,c=e.checkedItems,n=e.errors;return Object(s.jsx)("div",{children:Object(s.jsxs)("div",{className:"field",children:[Object(s.jsx)("label",{className:"has-text-weight-semibold",children:"Area of study"}),Object(s.jsxs)("div",{className:"control pl-5",children:[j.map((function(e){return Object(s.jsxs)("div",{className:"pb-5",children:[Object(s.jsxs)("label",{className:"checkbox",children:[Object(s.jsx)("input",{type:"checkbox",checked:c[e.name]||!1,name:e.name,onChange:t}),Object(s.jsx)("i",{className:"px-2",children:e.label})]}),Object(s.jsx)("div",{className:"pl-5",children:e.schedule.map((function(t){return Object(s.jsx)("span",{children:Object(s.jsxs)("label",{className:"radio",children:[Object(s.jsx)("input",{type:"radio",id:e.name,name:e.name,value:t.label||"",disabled:!c[e.name],onChange:a,checked:(n=e.name,void(void 0!==c[n]&&!1!==c[n]||document.querySelectorAll("[id=".concat(n,"]")).forEach((function(e){e.checked=!1}))))}),Object(s.jsx)("span",{className:"px-2",children:t.label})]})},t.label);var n}))}),n["".concat(e.name)]&&Object(s.jsx)("p",{className:"help is-danger",children:n["".concat(e.name)]})]},e.key)})),Object(s.jsx)("div",{className:"pb-2",children:n.study&&Object(s.jsx)("p",{className:"help is-danger",children:n.study})}),Object(s.jsx)("div",{className:"pb-2",children:n.dates&&Object(s.jsx)("p",{className:"help is-danger",children:n.dates})})]})]})})}),v=function(e){var a=e.values,t=e.checkedItems,c=e.clearForm,n=e.isFinalDisplayVisible,l=Object.keys(t);return Object(s.jsx)(s.Fragment,{children:n&&Object(s.jsx)("div",{className:"section is-fullheight",children:Object(s.jsx)("div",{className:"container",children:Object(s.jsx)("div",{className:"column is-8 is-offset-2",children:Object(s.jsxs)("div",{className:"box has-background-primary-light",children:[Object(s.jsxs)("div",{className:"py-2",children:[Object(s.jsx)("span",{className:"has-text-weight-semibold",children:"Name:"})," ",a.name]}),Object(s.jsxs)("div",{className:"py-2",children:[Object(s.jsx)("span",{className:"has-text-weight-semibold",children:"Email:"})," ",a.email]}),Object(s.jsxs)("div",{className:"py-2",children:[Object(s.jsx)("span",{className:"has-text-weight-semibold",children:"Birthday:"})," ",a.birthday]}),Object(s.jsxs)("div",{className:"py-2",children:[Object(s.jsx)("span",{className:"has-text-weight-semibold",children:"Area of study:"}),Object(s.jsx)("div",{className:"pl-5",children:l.map((function(e){return Object(s.jsx)("span",{children:a[e]&&Object(s.jsxs)("div",{children:[Object(s.jsx)("i",{className:"is-capitalized",children:e}),": ",a[e]]})},e)}))})]}),Object(s.jsx)("button",{onClick:c,className:"button is-block is-info",children:"Submit"})]})})})})})},N=function(){var e=b((function(){console.log("bm",O),x(!0)}),m),a=e.values,t=e.errors,n=e.checkedItems,l=e.handleChange,i=e.handleSubmit,d=e.handleCheckboxChange,h=e.clearForm,o=e.isFinalDisplayVisible,j=Object(c.useState)(!1),u=Object(r.a)(j,2),O=u[0],x=u[1];return console.log("subm",O),Object(s.jsxs)("div",{className:"section is-fullheight",children:[Object(s.jsx)("div",{className:"container",children:Object(s.jsxs)("div",{className:"column is-8 is-offset-2",children:[Object(s.jsx)("div",{className:"has-text-centered is-size-2",children:"Class Registration Form"}),Object(s.jsx)("div",{className:"box has-background-link-light",children:Object(s.jsxs)("form",{onSubmit:i,noValidate:!0,children:[Object(s.jsxs)("div",{className:"field",children:[Object(s.jsx)("label",{className:"has-text-weight-semibold",children:"Name"}),Object(s.jsxs)("div",{className:"control has-icons-left",children:[Object(s.jsx)("input",{className:"input ".concat(t.name&&"is-danger"),type:"text",placeholder:"Name",value:a.name||"",name:"name",onChange:l,required:!0}),Object(s.jsx)("span",{className:"icon is-small is-left",children:Object(s.jsx)("i",{className:"fa fa-user"})}),t.name&&Object(s.jsx)("p",{className:"help is-danger",children:t.name})]})]}),Object(s.jsxs)("div",{className:"field",children:[Object(s.jsx)("label",{className:"has-text-weight-semibold",children:"Email"}),Object(s.jsxs)("div",{className:"control has-icons-left",children:[Object(s.jsx)("input",{className:"input ".concat(t.email&&"is-danger"),type:"email",placeholder:"Email",value:a.email||"",name:"email",onChange:l,required:!0}),Object(s.jsx)("span",{className:"icon is-small is-left",children:Object(s.jsx)("i",{className:"fa fa-envelope"})}),t.email&&Object(s.jsx)("p",{className:"help is-danger",children:t.email})]})]}),Object(s.jsxs)("div",{className:"field",children:[Object(s.jsx)("label",{className:"has-text-weight-semibold",children:"Birthday"}),Object(s.jsx)("div",{className:"control",children:Object(s.jsx)("input",{max:(new Date).toISOString().split("T")[0],className:"column is-5 px-0 py-0",type:"date",name:"birthday",placeholder:"Birthday",value:a.birthday||"",onChange:l})}),t.birthday&&Object(s.jsx)("p",{className:"help is-danger",children:t.birthday})]}),Object(s.jsx)(g,{handleChange:l,handleCheckboxChange:d,checkedItems:n,errors:t}),Object(s.jsx)("button",{type:"submit",className:"button is-block is-info",children:"Confirm"})]})})]})}),0===Object.keys(t).length&&O&&Object(s.jsx)(v,{values:a,checkedItems:n,clearForm:h,isFinalDisplayVisible:o})]})},y=function(){return Object(s.jsx)(N,{})},k=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,18)).then((function(a){var t=a.getCLS,s=a.getFID,c=a.getFCP,n=a.getLCP,l=a.getTTFB;t(e),s(e),c(e),n(e),l(e)}))};i.a.render(Object(s.jsx)(n.a.StrictMode,{children:Object(s.jsx)(y,{})}),document.getElementById("root")),k()}},[[17,1,2]]]);
//# sourceMappingURL=main.05fbb3e2.chunk.js.map